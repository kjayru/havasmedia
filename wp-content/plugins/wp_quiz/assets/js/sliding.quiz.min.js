var smoke={smoketimeout:[],init:!1,zindex:1e3,i:0,bodyload:function(a){var b=document.createElement("div");b.setAttribute("id","smoke-out-"+a),b.className="smoke-base",b.style.zIndex=smoke.zindex,smoke.zindex++,document.body.appendChild(b)},newdialog:function(){var a=(new Date).getTime();return a=Math.random(1,99)+a,smoke.init?smoke.bodyload(a):smoke.listen(window,"load",function(){smoke.bodyload(a)}),a},forceload:function(){},build:function(a,b){smoke.i++,b.stack=smoke.i,a=a.replace(/\n/g,"<br />"),a=a.replace(/\r/g,"<br />");var h,c="",d="X",e="Cancel",f="",g="";"prompt"===b.type&&(c='<div class="dialog-prompt"><input id="dialog-input-'+b.newid+'" type="text" '+(b.params.value?'value="'+b.params.value+'"':"")+" />"+"</div>"),b.params.ok&&(d=b.params.ok),b.params.cancel&&(e=b.params.cancel),b.params.classname&&(f=b.params.classname),"signal"!==b.type&&(g='<div class="dialog-buttons">',"alert"===b.type?g+='<button id="alert-ok-'+b.newid+'">'+d+"</button>":("prompt"===b.type||"confirm"===b.type)&&(g+=b.params.reverseButtons?'<button id="'+b.type+"-ok-"+b.newid+'">'+d+"</button>"+'<button id="'+b.type+"-cancel-"+b.newid+'" class="cancel">'+e+"</button>":'<button id="'+b.type+"-cancel-"+b.newid+'" class="cancel">'+e+"</button>"+'<button id="'+b.type+"-ok-"+b.newid+'">'+d+"</button>"),g+="</div>"),h='<div id="smoke-bg-'+b.newid+'" class="smokebg"></div>'+'<div class="dialog smoke '+f+'">'+g+'<div class="dialog-inner">'+a+c+"</div>"+"</div>",smoke.init?smoke.finishbuild(a,b,h):smoke.listen(window,"load",function(){smoke.finishbuild(a,b,h)})},finishbuild:function(a,b,c){var d=document.getElementById("smoke-out-"+b.newid);for(d.className="smoke-base smoke-visible  smoke-"+b.type,d.innerHTML=c;""===d.innerHTML;)d.innerHTML=c;switch(smoke.smoketimeout[b.newid]&&clearTimeout(smoke.smoketimeout[b.newid]),smoke.listen(document.getElementById("smoke-bg-"+b.newid),"click",function(){smoke.destroy(b.type,b.newid),"prompt"===b.type||"confirm"===b.type?b.callback(!1):"alert"===b.type&&b.callback!==void 0&&b.callback()}),b.type){case"alert":smoke.finishbuildAlert(a,b,c);break;case"confirm":smoke.finishbuildConfirm(a,b,c);break;case"prompt":smoke.finishbuildPrompt(a,b,c);break;case"signal":smoke.finishbuildSignal(a,b,c);break;default:throw"Unknown type: "+b.type}},finishbuildAlert:function(a,b){smoke.listen(document.getElementById("alert-ok-"+b.newid),"click",function(){smoke.destroy(b.type,b.newid),b.callback!==void 0&&b.callback()}),document.onkeyup=function(a){a||(a=window.event),(13===a.keyCode||32===a.keyCode||27===a.keyCode)&&(smoke.destroy(b.type,b.newid),b.callback!==void 0&&b.callback())}},finishbuildConfirm:function(a,b){smoke.listen(document.getElementById("confirm-cancel-"+b.newid),"click",function(){smoke.destroy(b.type,b.newid),b.callback(!1)}),smoke.listen(document.getElementById("confirm-ok-"+b.newid),"click",function(){smoke.destroy(b.type,b.newid),b.callback(!0)}),document.onkeyup=function(a){a||(a=window.event),13===a.keyCode||32===a.keyCode?(smoke.destroy(b.type,b.newid),b.callback(!0)):27===a.keyCode&&(smoke.destroy(b.type,b.newid),b.callback(!1))}},finishbuildPrompt:function(a,b){var d=document.getElementById("dialog-input-"+b.newid);setTimeout(function(){d.focus(),d.select()},100),smoke.listen(document.getElementById("prompt-cancel-"+b.newid),"click",function(){smoke.destroy(b.type,b.newid),b.callback(!1)}),smoke.listen(document.getElementById("prompt-ok-"+b.newid),"click",function(){smoke.destroy(b.type,b.newid),b.callback(d.value)}),document.onkeyup=function(a){a||(a=window.event),13===a.keyCode?(smoke.destroy(b.type,b.newid),b.callback(d.value)):27===a.keyCode&&(smoke.destroy(b.type,b.newid),b.callback(!1))}},finishbuildSignal:function(a,b){smoke.smoketimeout[b.newid]=setTimeout(function(){smoke.destroy(b.type,b.newid)},b.timeout)},destroy:function(a,b){var c=document.getElementById("smoke-out-"+b),d=document.getElementById(a+"-ok-"+b),e=document.getElementById(a+"-cancel-"+b);c.className="smoke-base",d&&(smoke.stoplistening(d,"click",function(){}),document.onkeyup=null),e&&smoke.stoplistening(e,"click",function(){}),smoke.i=0,c.innerHTML=""},alert:function(a,b,c){"object"!=typeof b&&(b=!1);var d=smoke.newdialog();smoke.build(a,{type:"alert",callback:c,params:b,newid:d})},signal:function(a,b){b===void 0&&(b=5e3);var c=smoke.newdialog();smoke.build(a,{type:"signal",timeout:b,params:!1,newid:c})},confirm:function(a,b,c){"object"!=typeof c&&(c=!1);var d=smoke.newdialog();smoke.build(a,{type:"confirm",callback:b,params:c,newid:d})},prompt:function(a,b,c){"object"!=typeof c&&(c=!1);var d=smoke.newdialog();return smoke.build(a,{type:"prompt",callback:b,params:c,newid:d})},listen:function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):!1},stoplistening:function(a,b,c){return a.removeEventListener?a.removeEventListener("click",c,!1):a.detachEvent?a.detachEvent("on"+b,c):!1}};smoke.init||smoke.listen(window,"load",function(){smoke.init=!0});
jQuery(document).ready(function(){jQuery.noConflict();jQuery.sliding_quiz={version:"1.0"};jQuery.fn.sliding_quiz=function(d){d=jQuery.extend({},{quiz_id:null,instruction:null,questions:null,locale:null,show_contact_form:false,hint:2,contact_redirect:"",effect:"slide",callback:function(){}},d);if(d.questions==null||d.questions==undefined){return false}var c=jQuery(this);c.addClass("quiz-content");var a={msg_not_found:"Cannot find questions",msg_please_select_an_option:"Please select an option",msg_question:"Question",msg_you_scored:"Correct: %correct%/%total% questions (%percent%)",msg_share_scored:"Hurray! I reached high score",msg_click_to_review:"Click to Question button to review your answers",bt_start:"Start",bt_next:"Next",bt_back:"Back",bt_finish:"Finish",result_comment_perfect:"Perfect!",result_comment_excellent:"Excellent!",result_comment_good:"Good!",result_comment_average:"Average!",result_comment_bad:"Bad!",result_comment_poor:"Poor!",result_comment_worst:"Worst!",hint:"Hint",contact_heading:"Submit Your Score",contact_name:"Name",contact_email:"Email",contact_phone:"Phone",contact_message:"Message",contact_show_form_button:"Submit Your Score",contact_submit_button:"Submit",contact_thankyou:"Thank you for your submission."};if(d.locale!=null){jQuery.each(a,function(f,g){if(d.locale[f]==undefined){d.locale[f]=g}})}else{d.locale=a}Array.max=function(f){return Math.max.apply(Math,f)};if(d.questions.length===0){c.html('<div class="quiz-wrapper"><div class="steps"><form id="formElem" name="formElem" action="" method="post"><fieldset class="step"><legend><div>'+d.locale.msg_not_found+"</div></legend></fieldset></form></div></div>");return}var e="";if(d.instruction!=null){e='<div class="quiz-wrapper" id="quiz-instruction-container">\n                    <div class="steps">\n                    <form>\n                    <fieldset class="step"><legend><div>'+d.instruction.title+'</div></legend><div style="padding: 20px 10px;">'+d.instruction.description+'</div></fieldset></form></div>\n                    <div id="quiz-navigation" style=""><ul><li class="hidden"><a href="#">&nbsp;</a></li><li class="hidden"><a href="#">&nbsp;</a></li><li><a href="javascript:;;" id="btn-start-quiz">'+d.locale.bt_start+"</a></ul></div>\n                    </div>";c.html(e);c.find("#btn-start-quiz").bind("click",function(){b();c.find("#quiz-instruction-container").fadeOut(500,function(){})})}else{b()}function b(){var r=d.questions.length;var l=[];var v=[];var w=1;var I='<fieldset class="step" style="display:none">\n            <legend><div>'+d.locale.contact_heading+'</div></legend>\n                    <table width="100%" class="competition-form" border="0" cellpadding="0" cellspacing="10">\n                        <tr><td width="1%" nowrap="">'+d.locale.contact_name+'*</td><td align="right"><input type="text" class="required letters_only" id="competitionName"/></td></tr>\n   <tr><td width="1%" nowrap="">Apellido*</td><td align="right"><input type="text" class="required letters_only" id="competitionApellido"/></td></tr>\n\                     <tr><td width="1%" nowrap="">'+d.locale.contact_email+'*</td><td align="right"><input type="text" id="competitionEmail"/></td></tr>\n                        <tr><td width="1%" nowrap="">'+d.locale.contact_phone+'</td><td align="right"><input type="text" class="required" id="competitionPhone" required /></td></tr>\n                        <tr><td width="1%" nowrap="">'+d.locale.contact_message+'</td><td align="right"><input type="text" id="competitionMessage"/></td></tr>\n                    </table>\n            </fieldset>';var z='<div class="quiz-wrapper '+d.effect+'"><div class="steps"><form id="formElem" name="formElem" action="" method="post">';for(questionIdx=0;questionIdx<r;questionIdx++){if(d.questions[questionIdx]!=undefined){show=(questionIdx==0)?"show":"";var C=Array.max(d.questions[questionIdx].weight);var t=jQuery("<div>");t.append(d.questions[questionIdx].question);var J=t.html();J=jQuery("<div>").append(J);J.find("img").remove();J.find("iframe").remove();J=J.html();z+='<fieldset class="step '+show+'" question="'+(questionIdx+1)+'" choice=""><legend><div>'+J+"</div></legend>";if(t.find("img").length){t.find("img").each(function(){var O=jQuery(this).attr("src");var N=jQuery(this).attr("width");var i=jQuery(this).attr("height");var M=jQuery(this).attr("style");z+='<img src="'+O+'" width="'+N+'" height="'+i+'" style="'+M+'">'});t.find("img").remove()}if(t.find("iframe").length){t.find("iframe").each(function(){var N=jQuery(this).attr("src");var M=jQuery(this).attr("width");var i=jQuery(this).attr("height");z+='<iframe src="'+N+'" frameborder="" width="'+M+'" height="'+i+'"></iframe>'});t.find("iframe").remove()}var h="check-correct-"+(questionIdx+1);var H='<div id="'+h+'" class="final-result">';H+="<h3>"+d.questions[questionIdx].question+"</h3>";for(answerIdx=0;answerIdx<d.questions[questionIdx].answers.length;answerIdx++){var m="";if(d.questions[questionIdx].weight[answerIdx]==C){m+="right"}z+='<p data-correct="'+m+'" answer="'+(answerIdx+1)+'">'+d.questions[questionIdx].answers[answerIdx]+"</p>";H+='<p class="'+m+'">'+d.questions[questionIdx].answers[answerIdx]+"</p>"}H+="</div>";explain=d.questions[questionIdx].explanation;if(typeof explain=="undefined"||explain==""){explain=""}else{explain='<div class="explanation-box"><div class="explanation-content">'+d.questions[questionIdx].explanation+"</div></div>"}var f=(d.hint>0)?'<span class="label label-info" data-id="'+h+'" class="check-correct">'+d.locale.hint+' (<span class="hint-number">'+d.hint+"</span>)</span>":"";z+=H+explain+'<div class="check-correct">'+f+"</div></fieldset>"}}NextFinishButton='<a href="javascript:;;" id="next-quiz">'+d.locale.bt_next+'</a><a href="javascript:;;" id="finish-quiz" style="display: none;">'+d.locale.bt_finish+"</a>";if(r==1){NextFinishButton='<a href="javascript:;;" id="finish-quiz">'+d.locale.bt_finish+"</a>"}z+='</form></div><div id="quiz-navigation" style="display:none;"><ul><li class="disabled"><a href="javascript:;;" id="back-quiz">'+d.locale.bt_back+'</a></li><li class="page-number"><a href="javascript:;;">1/'+r+'</a></li><li class=""><span id="quiz-notice" class="label label-important"><i class="qicon-exclamation-sign qicon-white"></i> '+d.locale.msg_please_select_an_option+"</span>"+NextFinishButton+'</li></ul></div><div class="progress-container"><div class="progress"></div></div></div></div>';c.html(z);c.find(".check-correct").click(function(){if(d.hint==0){return false}var M=jQuery(this).prev(".explanation-box");M.show();var i=M.outerHeight();M.hide();var N=c.find(".quiz-wrapper").height()+i;if(jQuery(this).data("height")){c.find(".quiz-wrapper").css({height:M.data("height")})}else{c.find(".quiz-wrapper").css({height:N})}M.show();jQuery(this).attr("data-height",N);jQuery(this).parent().find("p").each(function(){var O=jQuery(this);$correct=O.data("correct");if($correct!=""){O.addClass("right");O.fadeTo("slow",0.5).fadeTo("slow",1,function(){O.removeClass("right")})}});d.hint--;c.find(".hint-number").html(d.hint)});$interface_config=jQuery("#wp_quiz_interface_config").val();if($interface_config!=""){$interface_config=jQuery.base64.decode($interface_config);$interface_config=jQuery.parseJSON($interface_config);background="#"+$interface_config.background;color="#"+$interface_config.color;border="#"+$interface_config.border;transparent=($interface_config.transparent=="yes")?0.9:1;navigation_bg="#"+$interface_config.navigation_bg;footer_bg="#"+$interface_config.footer_bg;progress_bar="#"+$interface_config.progress_bar;pop_up_border="#"+$interface_config.pop_up_border;question_bg="#"+$interface_config.question_bg;question_color="#"+$interface_config.question_color;answer_bg="#"+$interface_config.answer_bg;answer_selected_bg="#"+$interface_config.answer_selected_bg;answer_color="#"+$interface_config.answer_color;answer_selected_color="#"+$interface_config.answer_selected_color;answer_border="#"+$interface_config.answer_border;answer_selected_border="#"+$interface_config.answer_selected_border;button_bg="#"+$interface_config.button_bg;button_bg_hover="#"+$interface_config.button_bg_hover;button_color="#"+$interface_config.button_color;button_color_hover="#"+$interface_config.button_color_hover;jQuery("head").append("<style>.smoke {border-color:"+pop_up_border+";} .dialog-buttons button {background-color:"+pop_up_border+";} .progress-container{background:"+footer_bg+";} .progress-container .progress{ background:"+progress_bar+"; } div.quiz-wrapper{background:"+background+"; color:"+color+"; opacity:"+transparent+"; box-shadow: 0 2px 2px rgba(0,0,0,0.2),0 1px 5px rgba(0,0,0,0.2), 0 0 0 12px "+border+";} div.steps form .resultset,div.steps form legend{background:"+question_bg+"; color:"+question_color+"} div.steps form div.the-answer,div.steps form p{ background:"+answer_bg+"; color:"+answer_color+" } div.steps form div.the-answer-selected, div.steps form p.selected, div.steps form p.right { background: "+answer_selected_bg+"; color: "+answer_selected_color+";  border: 2px solid "+answer_selected_border+";} #quiz-navigation{background:"+navigation_bg+";} #quiz-navigation ul li a{ background:"+button_bg+"; color:"+button_color+" } #quiz-navigation ul li a:hover,#quiz-navigation ul li.selected a{ background:"+button_bg_hover+"; color:"+button_color_hover+" } table.competition-form {color:"+color+"}</style")}if(d.effect=="slide"){}var n=c.find(".progress");var L=c.find(".progress-container");var y=L.width()-40;var B=c.find(".steps"),F=c.find("#quiz-notice"),g=c.find(".page-number a"),s=c.find("#next-quiz"),u=c.find("#back-quiz"),E=c.find("#finish-quiz");var q=new Array();var o=0;c.find(".steps").find(".step").each(function(M){if(o==0){jQuery(this).fadeIn()}else{jQuery(this).hide()}o++});function K(i,M,N){$resultMessage=d.locale.msg_you_scored;$resultMessage=$resultMessage.replace("%correct%",M);$resultMessage=$resultMessage.replace("%total%",N);$resultMessage=$resultMessage.replace("%percent%",i+"%");if(i==100){return'<h3 class="skill pass">'+$resultMessage+" "+d.locale.result_comment_perfect+"</h3>"}if(i>90){return'<h3 class="skill pass">'+$resultMessage+" "+d.locale.result_comment_excellent+"</h3>"}if(i>70){return'<h3 class="skill pass">'+$resultMessage+" "+d.locale.result_comment_good+"</h3>"}if(i>50){return'<h3 class="skill pass">'+$resultMessage+" "+d.locale.result_comment_average+"</h3>"}if(i>30){return'<h3 class="skill fail">'+$resultMessage+" "+d.locale.result_comment_bad+"</h3>"}if(i>20){return'<h3 class="skill fail">'+$resultMessage+" "+d.locale.result_comment_poor+"</h3>"}else{return'<h3 class="skill fail">'+$resultMessage+" "+d.locale.result_comment_worst+"</h3>"}}var p=0;var k=Array();var G=Array();for(var A=0,D=d.questions.length;A<D;A++){p+=parseFloat(Array.max(d.questions[A].weight));$weightageLength=d.questions[A].weight.length;G[A]=$weightageLength}var j=Array.max(G);c.find("p").click(function(){var i=jQuery(this);if(i.hasClass("selected")){i.removeClass("selected");i.parents(".step").attr("choice","")}else{i.parents(".step").children("p").removeClass("selected");i.addClass("selected");i.parents(".step").attr("choice",i.attr("answer"))}});c.find("#quiz-navigation").show();s.click(function(i){w=B.find(".show");index=w.index()+1;index++;x.next(index);i.preventDefault()});u.click(function(i){w=B.find(".show");index=w.index()+1;index--;x.back(index);i.preventDefault()});E.click(function(i){x.finish();i.preventDefault()});var x={next:function(i){if(c.find(".show").attr("choice").length===0){F.slideDown(300);F.css("display","inline-block");return false}F.slideUp();if(q[i-1]!=undefined&&d.effect=="slide"){B.stop().animate({marginLeft:"-"+q[i-1]+"px"},500,function(){B.find(".show").removeClass("show");w.next("fieldset").addClass("show");c.find(".quiz-wrapper").attr("style","");c.find(".explanation-box").hide();g.html(i+"/"+r);u.parent().removeClass("disabled");if(r==i){s.hide();E.show()}})}else{B.find(".show").fadeOut(500,function(){jQuery(this).removeClass("show");w.next("fieldset").addClass("show");w.next("fieldset").fadeIn(500);c.find(".quiz-wrapper").attr("style","");c.find(".explanation-box").hide();g.html(i+"/"+r);u.parent().removeClass("disabled");if(r==i){s.hide();E.show()}})}n.animate({width:n.width()+Math.round(y/r)},300)},back:function(i){F.slideUp();if(i-1>=0&&d.effect=="slide"){B.stop().animate({marginLeft:"-"+q[i-1]+"px"},500,function(){B.find(".show").removeClass("show");w.prev("fieldset").addClass("show");c.find(".quiz-wrapper").attr("style","");c.find(".explanation-box").hide();g.html(i+"/"+r);if((i-1)<=0){u.parent().addClass("disabled")}if(r>i){E.hide();s.show();s.parent().removeClass("disabled")}})}else{B.find(".show").fadeOut(500,function(){jQuery(this).removeClass("show");w.prev("fieldset").addClass("show");w.prev("fieldset").fadeIn(500);c.find(".quiz-wrapper").attr("style","");c.find(".explanation-box").hide();g.html(i+"/"+r);if((i-1)<=0){u.parent().addClass("disabled")}if(r>i){E.hide();s.show();s.parent().removeClass("disabled")}})}n.animate({width:n.width()-Math.round(y/r)},300)},finish:function(){if(c.find(".show").attr("choice").length===0){F.slideDown(300);F.css("display","inline-block");return false}c.find(".step").each(function(aa){questionNumber=jQuery(this).attr("question");userSelect=jQuery(this).attr("choice");l[questionNumber]=userSelect});var Z=0,V=0,O="",T="";for(A=0;A<r;A++){if(d.questions[A]==undefined){continue}$userScore=d.questions[A].weight[(l[A+1]-1)];C=Array.max(d.questions[A].weight);bt_rightOrwrong="label-important";sign_rightOrwrong='&nbsp;<i class="qicon-remove qicon-white"></i>';if($userScore==C){Z++;bt_rightOrwrong="label-success";sign_rightOrwrong='&nbsp;<i class="qicon-ok qicon-white"></i>'}O+='<span class="label '+bt_rightOrwrong+'"><a style="color:white" href="#q'+(A+1)+'" questionNumber="'+(A+1)+'" class="quiz-result">'+d.locale.msg_question+" "+(A+1)+"</a>"+sign_rightOrwrong+"</span>";T+='<div id="q'+(A+1)+'" class="final-result">';T+="<h3>"+d.questions[A].question+"</h3>";var N={};N.question_id=d.questions[A].id;N.question=d.questions[A].question;for(answersIndex=0;answersIndex<d.questions[A].answers.length;answersIndex++){var M="";if(d.questions[A].weight[answersIndex]==C){M+="right"}if(l[A+1]==(answersIndex+1)){M="selected "+M;N.answer=d.questions[A].answers[answersIndex];N.answer_id=d.questions[A].answerIdList[answersIndex];if($userScore<C){M+=" wrong"}V+=parseFloat($userScore);N.score=d.questions[A].weight[answersIndex]}if(typeof d.questions[A].answers[answersIndex]==="undefined"){}else{T+='<p class="'+M+'">'+d.questions[A].answers[answersIndex]+"</p>"}}v.push(N);expId="inline"+A;expLink='href="#inline'+A+'"';explain=d.questions[A].explanation;if(typeof explain=="undefined"||explain==""){explain=""}else{explain='<div id="'+expId+'" class="explanation-text" style="display: none;">'+d.questions[A].explanation+"</div>"}T+='<div class="quiz-explain">'+explain+"</div></div>"}var Q=Math.round((Z/r)*100);var W=K(Q,Z,r);var S=(d.show_contact_form==true)?'<li><a href="javascript:;;" id="show-submit-score">'+d.locale.contact_show_form_button+"</a></li>":"";var X=W;var Y=window.location;var U="";U+='<a href="http://www.facebook.com/sharer/sharer.php?s=100&p[url]='+Y+"&p[images][0]=&p[title]="+encodeURIComponent(X)+'&p[summary]=" target="_blank"><img src="'+wpQuiz.pluginURL+'/assets/img/facebook.png" /></a>';U+='<a href="http://twitter.com/home?status='+Y+'" target="_blank" ><img src="'+wpQuiz.pluginURL+'/assets/img/twitter.png" /></a>';U+='<a href="https://plus.google.com/share?url='+Y+'" target="_blank" ><img src="'+wpQuiz.pluginURL+'/assets/img/google.png" /></a>';var i='<div class="quiz-wrapper">\n                        <div class="steps">\n                        <form id="competitionForm" name="competitionForm" action="quiz_submit_score.php" method="post">\n                        <input type="hidden" value="'+Q+'" id="quiz_user_score">\n                        '+X+'\n                        <div class="social_share">'+U+'</div>\n                        <fieldset class="step" style="display:block">\n                        <div class="resultset">'+O+'</div>\n                        <div id="your-score" class="final-result">\n                            <span class="label label-warning"><i class="qicon-exclamation-sign qicon-white"></i> '+d.locale.msg_click_to_review+"</span>\n                        </div>"+T+"</fieldset>"+I+'</form></div>\n                        <div id="quiz-navigation" style=""><ul class="final-nav" style="float:right"><li><a href="javascript:;;" id="btn-submit-score">'+d.locale.contact_submit_button+'</a><img src="'+wpQuiz.pluginURL+'/assets/img/ajax-loader.gif" alt="loading" id="ajax-loader"></li>'+S+"</ul></div>\n                        </div>";c.html(i);var R={action:"quiz_submit_score",user_score:Q,quiz_id:d.quiz_id,json_results:v};jQuery.ajax({type:"POST",data:R,url:wpQuiz.ajaxURL,success:function(aa){console.log(aa)}});c.find("p").unbind("click");c.find(".simple-modal-link").click(function(aa){$this=jQuery(this);$href=$this.attr("href");jQuery($href).modal();return false});var P={isValidEmailAddress:function(ab){var aa=new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);return aa.test(ab)},validate:function(){var ab=1;var aa=false;jQuery("#competitionForm").find(":input:not(button)").each(function(){var ag=jQuery(this);if(ag.hasClass("required")&&!ag.is(":disabled")){var af=jQuery.trim(ag.val()).length;if(af==""||(!ag.prop("checked")&&ag.attr("type")=="checkbox")){ag.css("background-color","#FFEDEF");if(ag.attr("type")=="checkbox"){ag.parent().addClass("red")}aa=true}else{ag.css("background-color","#FFFFFF");if(ag.attr("type")=="checkbox"){ag.parent().removeClass("red")}}}});if(jQuery("#competitionName").hasClass("letters_only")){var ae=jQuery("#competitionName");var ac=jQuery.trim(ae.val()).length;var ad=/^[a-zA-Z ]+$/;if(ac==""||!ad.test(ae.val())){ae.css("background-color","#FFEDEF");aa=true}else{ae.css("background-color","#FFFFFF")}}if(P.isValidEmailAddress(jQuery("#competitionEmail").val())==false){jQuery("#competitionEmail").css("background-color","#FFEDEF");jQuery("#competitionEmail").focus();aa=true}else{jQuery("#competitionEmail").css("background-color","#FFFFFF")}if(aa){ab=-1}return ab}};c.find("#btn-submit-score").bind("click",function(){$this=jQuery(this);$ajaxLoader=jQuery("#ajax-loader");$ajaxLoader.show();$this.hide();noError=P.validate();if(noError==1){var aa={action:"quiz_send_contact_mail",quiz_id:d.quiz_id,name:jQuery("#competitionName").val(),'apellido': jQuery('#competitionApellido').val(),email:jQuery("#competitionEmail").val(),phone:jQuery("#competitionPhone").val(),message:jQuery("#competitionMessage").val(),user_score:jQuery("#quiz_user_score").val(),json_results:v};jQuery.ajax({type:"POST",data:jQuery.param(aa),url:wpQuiz.ajaxURL,success:function(ac){if(d.contact_redirect!=""){window.location.href=d.contact_redirect;return}var ab='<div class="quiz-wrapper">\n                                        <div class="steps">\n                                        <form id="competitionForm" name="competitionForm" action="quiz_submit_score.php" method="post">\n                                        <fieldset class="step" style="display:block">\n                                        <legend><div>'+d.locale.contact_thankyou+"</div></legend>\n                                        </fieldset></form></div>\n                                        </div>";c.html(ab)}})}else{$ajaxLoader.hide();$this.show()}});c.find("#show-submit-score").bind("click",function(){jQuery(this).hide();c.find(".step:first").fadeOut(500,function(){jQuery("#btn-submit-score").attr("style","display: block");jQuery(this).next().fadeIn(500)})});c.find(".quiz-result").parent("span").bind("click",function(){$this=jQuery(this).find("a");jQuery(".quiz-result").removeClass("active");$this.addClass("active");questionNumber=$this.attr("questionNumber");$currentQues=c.find("#q"+questionNumber);$explainText=$currentQues.find(".explanation-text").html();if(typeof $explainText=="undefined"){smoke.alert($currentQues.html(),{},function(){jQuery(".quiz-result").removeClass("active")})}else{smoke.confirm($currentQues.html(),function(aa){if(aa){jQuery(".quiz-result").removeClass("active")}else{smoke.alert('<p class="explanation-text">'+$explainText+"</p>",{},function(){jQuery(".quiz-result").removeClass("active")})}},{ok:"X",cancel:"?"})}})}}}}});